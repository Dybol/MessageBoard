<!DOCTYPE html>
<html
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:th="http://www.thymeleaf.org"
        xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
        lang="en">
<head>
    <title>Strona główna</title>

    <div th:replace="fragments/header :: myHeader"></div>

</head>
<body>
<header>
    <div th:replace="fragments/navbar :: myNavbar"></div>
</header>

<main>

    <div class="container mt-5">
        <h3 class="text-white">Porozmawiaj z innymi <i class="far fa-comment text-warning mx-2"></i></h3>
        <div class="border mg-5" id="chat">
            <div th:each="message: ${messages}">
                <p th:text="|${message.getAuthorUsername()}: ${message.getMessage()}|" class="mx-3 mt-3 text-white"></p>
            </div>
        </div>
        <form sec:authorize="isAuthenticated()" action="/" method="post" th:action="@{/}" class="mt-3">
            <!--Grid row-->
            <div class="row d-flex justify-content-center">
                <!--Grid column-->
                <div class="col-auto">
                    <p class="pt-2">
                        <strong class="text-white">Napisz wiadomość</strong>
                    </p>
                </div>
                <!--Grid column-->

                <!--Grid column-->
                <div class="col-md-5 col-12">
                    <!-- Email input -->
                    <div class="form-outline form-white mb-4">
                        <input type="text" id="message" class="form-control" name="message"/>
                        <label class=" form-label" for="message">Treść</label>
                    </div>
                </div>
                <!--Grid column-->

                <!--Grid column-->
                <div class="col-auto">
                    <!-- Submit button -->
                    <button type="submit" class="btn btn-outline-light mb-3">
                        Wyślij
                    </button>
                </div>
                <!--Grid column-->
            </div>
            <!--Grid row-->
        </form>
        <p class="text-white" sec:authorize="!isAuthenticated()"><i class="fas fa-exclamation text-danger me-2"></i>Musisz
            być
            zalogowany, aby napisać coś od siebie! </p>
    </div>
</main>

<footer>
    <div th:replace="fragments/footer :: myFooter"></div>
</footer>

<!-- MDB -->
<script
        type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.6.0/mdb.min.js"
></script>
</body>
</html>